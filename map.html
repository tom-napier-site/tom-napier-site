<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title >Maps | Signals from Above</title>
        <!-- Styles -->
        <link rel="stylesheet" href="./styles.css">
        <!-- Font import -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Text:ital@0;1&display=swap" rel="stylesheet">
        <!-- Maps API import -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
    </head>
    <div class="body-container">
    <header>
        <div class="header-text">
            <a href="./index.html" class="brand-font nav-homelink">Home Page</a>
            <h1 class="brand-font brand-title">Signals from <br> above</h1>
            <h2 class="brand-font brand-slugline">Interactive Map.</h2>
        </div>
    </header>
    <body>
        <hr>
        <p class="text-font">Click a blue site indicator in order to get more information about the site.</p>
        <div id="map"></div>
        <button class="brand-font centre" style="margin-top: 10px;" onclick="locate()">Locate Me</button>
        </div>
    </body>
        <footer class="brand-font footer-text-spacing">
        <div class="footer-section">
        <h2>Navigate</h2>
            <li><a>Home Page</a></li>
            <li><a>Interactive map</a></li>
            <li><a>List of sites</a></li>
            <li><a>Web Site index</a></li>
        </div>
        <div class="footer-section">
            <h2>Sites by use</h2>
                <li><a>FM Radio</a></li>
                <li><a>Digita Radio & DAB</a></li>
                <li><a>Digital Terestrial Television (DTT)</a></li>
                <li><a>Microwave fixed links</a></li>
                <li><a>TETRA (Airwave)</a></li>
                <li><a>Other radio systems</a></li>
            </div>
        <div class="footer-section">
            <h2>Locations</h2>
                <li><a>Craigkelly</a></li>
                <li><a>Braid Hill</a></li>
                <li><a>Blackford Hill</a></li>
                <li><a>Craiglockhart</a></li>
                <li><a>Corstorphine Hill</a></li>
                <li><a>Castle hill</a></li>
        </div>
    </footer>
</html>

<script>
    var map = L.map('map').setView([55.94465239211136, -3.195899255742201], 12);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);

var marker = L.marker([55.9225321456269, -3.1939062837649046]).addTo(map);
marker.bindPopup("<a href='./sites/blackford_hill.html'> <b>Blackford Hill</b></a><br>BT Microwave (Former), BR Tech");

function locate() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(writeToMap)

    }
}

function writeToMap(data) {
    map.setView([data.coords.latitude, data.coords.longitude], 15);
}
</script>